# 基于LLM的Shell机器人

## 题目详情
目前LLM在自然语言理解的能力有很大突破，而Shell作为操作系统核心交互工具，其命令编写需专业语法知识，对非技术用户存在使用门槛。基于此，本课题要求设计并实现一款基于大模型的Shell机器人，通过自然语言与Shell命令的智能转化，降低Shell使用难度，同时保障命令执行的安全性与准确性。系统需遵循：自然语言解析-命令生成-安全校验-执行反馈的基本流程，具体要求如下：
1. 定义LLM与Shell的交互适配方案
    * 明确输入输出格式：支持用户以自然语言描述操作需求（如 “查看当前目录下大小超过 100MB 的文件”），机器人输出对应的 Shell 命令（如find ./ -size +100M）及简要命令说明；
    * 适配多 Shell 环境：至少支持 Linux 系统下的 Bash、Zsh 两种主流 Shell，需处理不同 Shell 的语法差异（如数组定义、变量引用）；
    * 上下文记忆：支持多轮对话上下文关联，例如用户后续提问 “将这些文件移动到 /data/backup 目录” 时，机器人能关联上一轮 “100MB 文件” 的查询结果，生成连贯命令。
2. 设计并实现自然语言到Shell命令的生成模块
    * 基于开源 LLM 微调：选用轻量级开源 LLM（如 Llama 2-7B、Qwen-7B）作为基础模型，需构建 Shell 命令专项数据集（包含 “自然语言需求 - 标准命令 - 错误案例” triples，数据集规模不低于 500 条），通过 LoRA 等轻量化微调方法，提升命令生成的准确性；
    * 命令纠错机制：针对 LLM 生成的错误命令（如语法错误、路径错误），需集成规则引擎（如基于 Shell 语法树校验）与 LLM 自纠错能力，输出修正后的命令及错误原因；
    * 复杂需求拆解：支持用户复杂操作描述（如 “每天凌晨 3 点压缩 /var/log 目录下 7 天前的日志文件，并删除原始文件”），机器人需拆解为定时任务（crontab）+ 压缩命令（gzip）+ 删除命令（rm）的组合脚本。
3. 设计并实现Shell命令安全执行系统（可选）
    * 权限控制：设置命令执行白名单，禁止高危命令（如rm -rf /、sudo）及敏感操作（如修改系统配置文件），对超出白名单的命令，需提示用户并提供权限申请流程；
    * 预执行校验：在命令执行前，先通过 “语法校验 - 风险评估 - 效果模拟” 三步校验：语法校验确保命令可执行，风险评估标注命令影响范围（如 “删除操作将影响当前目录下文件”），效果模拟通过echo预览命令执行结果，用户确认后再实际执行；
    * 执行日志记录：记录所有用户输入的自然语言、生成的命令、执行结果（成功 / 失败）及执行时间，日志支持导出为 CSV 格式，便于问题排查。
4. 用户交互与结果反馈模块，采用CLI方式交互
5. 功能与性能测试